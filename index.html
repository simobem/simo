<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Download Freepik Image</title>
</head>
<body>
  <div id="main-container">
    <label for="input-box">Enter a freepik link :</label>
    <input type="text" id="input-box" placeholder="e.g. https://fr.freepik.com/download-file/12345678">
    <button id="download-button">Download</button>
    <div id="result-container"></div>
  </div>
  <div id="image-container"></div>

  <script>
  window.addEventListener('load', function() {
  const url = 'https://i.ibb.co/PFxhMtH/Freepik-svg.png';

  // Link HTML elements by id
  const inputBox = document.getElementById('input-box');
  const downloadButton = document.getElementById('download-button');
  const resultLabel = document.getElementById('result-container');
  const imageContainer = document.getElementById('image-container');

  // Download the image from the website and create a new Image object
  const img = new Image();
  img.src = url;
  img.onload = function() {
    const canvas = document.createElement('canvas');
    canvas.width = img.width / 2;
    canvas.height = img.height / 2;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

    // Create an HTML element for the image and add it to the page
    const imgEl = document.createElement('img');
    imgEl.src = canvas.toDataURL();
    imgEl.style.marginBottom = '5px';
    imageContainer.appendChild(imgEl);
  };

  downloadButton.addEventListener('click', function() {
    const inputText = inputBox.value;
    const regex = /(?<!\d)\d{7,8}(?!\d)/;
    const match = inputText.match(regex);
    if (!match) {
      resultLabel.textContent = 'Please enter a freepik link';
      resultLabel.classList.add('error');
      resultLabel.classList.remove('success');
    } else {
      const number = match[0];
      const downloadUrl = `https://fr.freepik.com/download-file/${number}`;
      window.open(downloadUrl);
      resultLabel.textContent = 'The file downloaded successfully';
      resultLabel.classList.add('success');
      resultLabel.classList.remove('error');
      inputBox.value = '';
    }
  });
});


    </script>
</body>
</html>
